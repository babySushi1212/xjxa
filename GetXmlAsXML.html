<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>操作DOM XML文件</title>
    <style>
        .eTable th {
            background-color: bisque;
        }
        .eTable td {
            border-bottom: 2px dotted deeppink;
        }
    </style>
</head>

<body>
<input type="button" value="顯示員工資料" onclick="getXML();">
<div id="showPanel"></div>

<script>
    function showEmployee(docXML) {
        const fields = docXML.documentElement.childNodes;

        const table = document.createElement('table');
        for (const field of fields) {
            const tr = document.createElement('tr');
            const th = document.createElement('th');
            const td = document.createElement('td');

            th.textContent = field.nodeName;
            td.textContent = field.firstChild.nodeValue;

            tr.append(th);
            tr.append(td);
            table.append(tr);
        }
        table.setAttribute('class', 'eTable');
        document.getElementById('showPanel').append(table);
    }//function showEmployee

    function getXML() {
        //===實作(填入程式碼)
        let xhr = new XMLHttpRequest();
        //設定好回呼函數
        xhr.onload = function () {
            if (xhr.status == 200) {
                //===回傳的XML資料,可將其改為以XML來處理...^_^\\\)
                alert(xhr.responseXML);
                //-------將xml轉成html元素放入網頁文件中
                showEmployee(xhr.responseXML);
            } else {
                alert(xhr.status);
            }//xhr.status == 200
        }//onload

        //建立好Get連接與送出請求
        let url = "JONES.xml";
        xhr.open("Get", url, true);
        //送出請求
        xhr.send(null);
    }; //function
</script>
</body>
</html>
